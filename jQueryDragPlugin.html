<html>
	<head></head>
	<style>
	#div1{
		width: 100px;
		height: 100px;
		position: absolute;
		top:0px;
		background-color: green;
	}

	#div2{
		width: 100px;
		height: 100px;
		position: absolute;
		top:200px;
		background-color: red;
	}

	#div3{
		width: 100px;
		height: 100px;
		position: absolute;
		top:400px;
		background-color: black;
	}
	</style>
	<script type="text/javascript" src="jquery-2.1.3.js"></script>
	<script type="text/javascript">
		void function () {
			//alert('test code editor!');
		}();
		
		window.onload = function ( ) {
			//var oUl = document.getElementById('ul');
			//console.log(oUl.innerHTML);
		}

		$(function() {
			
			$.fn.extend({
				drag: function() {
					$(this).on("mousedown",function(e)  {
						console.log("1");
						var $this = $(this);
						var x = e.pageX - this.offsetLeft;
						var y = e.pageY - this.offsetTop;
						$(document).on("mousemove",function(e) {
							console.log('mousemove');
							$this.css("left",e.pageX-x+"px");
							$this.css("top",e.pageY-y+"px");
						});

						$(document).on("mouseup",function() {//这里的this是指document
							$(this).off();
						});
						
						e.preventDefault();
					});
				}
			});

			$("#div1,#div2").drag();

		});
		
	</script>
	<body>
		
		<div id='div1'>
			ss
		</div>

		<div id='div2'>
		</div>

		<div id='div3'>
		</div>

	</body>
</html>
